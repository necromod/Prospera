name: Test Secret Configuration

on:
  workflow_dispatch:

jobs:
  test-secret:
    runs-on: ubuntu-latest
    
    steps:
      - name: Check if secret exists
        env:
          PUBLISH_PROFILE: ${{ secrets.AZURE_WEBAPP_PUBLISH_PROFILE }}
        run: |
          if [ -z "$PUBLISH_PROFILE" ]; then
            echo "? SECRET NÃO CONFIGURADO ou VAZIO"
            exit 1
          else
            echo "? Secret está configurado!"
            echo "Tamanho: ${#PUBLISH_PROFILE} caracteres"
            echo "Primeiros 50 caracteres: ${PUBLISH_PROFILE:0:50}..."
          fi
